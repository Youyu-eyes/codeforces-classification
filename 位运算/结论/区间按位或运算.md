# 区间按位或运算
## 在 $[L, R] (L \ne R)$区间内的每个数进行按位或运算有如下结论：
设答案为 x，x 的二进制表示中，L 与 R 在某一位上不同，则这一位的后面可以全部置为 1.
特殊的，寻找 L 与 R 的最高不同位 p（即 p 以上的位置两数相同），则 p 以下全部置为 1.

## 操作步骤及算法
1. 计算 $diff = L \text{ } xor \text{ } R$，找出不同位；
2. 计算 $diff$ 的最高置位 $p$；
3. 答案为 $R | ((1 << p) - 1)$

## 证明
1. 高位：由于比 $p$ 高的位上，$L = R$，因此比 $p$ 高的位上，$x = L = R$，记为 $H$；
2. 第 $p$ 位：第 $p$ 位上，$R$ 与 $L$ 不同，由于 $L < R$，且高位上 $R$ 与 $L$ 相同，因此 $R >> p$ & $1 = 1$，$L >> p$ & $1 = 0$，$x$ 的第 $p$ 位为 $1$；
且 $M = H * 2^{p + 1} + 2^p \in [L,R]$，$M$ 表示 $p$ 位为 $1$，下面的位全为 $0$，高位与 $L$，$R$ 一致的数；
3. 低于 $p$ 的位置：由于 $M \in [L,R]$，$M-1$ 表示 $p$ 位为 $0$，下面位置全为 $0$ 的数，由于 $L$ 的高位 $H$ 与 $M - 1$ 相同，第 $p$ 位也与 $M - 1$ 相同，则剩下全为 $1$ 的 $M-1$ 一定比 $L$ 大。即 $ M - 1 \in [L,R]$.
4. 根据按位或的运算性质，$y(表示除 M - 1 外的数) | M - 1$，$p$ 及以下的位置一定为 $1$，高位 $H$ 和 $R$ 的高位相同